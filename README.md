# coqui_tts_korea
Korean TTS using coqui TTS (glowtts and multiband melgan) - 한국어 TTS
- [colab](https://colab.research.google.com/drive/1hv37sT7Pq-qKZe9Ihbbp5XZ-A9tsURli?usp=sharing)

pretrain with KSS data  
finetune HalfLife scientist data  

# Result
- input text 
  - "자신이 직접 구성한 상장지수펀드(ETF)에 투자할 수 있는 '다이렉트인덱싱' 시장이 커지고 있다. 국내 증권사와 자산운용사들은 성장 잠재력을 보고 앞다퉈 시장에 진출하고 있다.

5일 금융투자업계에 따르면 해외 다이렉트인덱싱 시장의 성장성에 주목한 국내 금융회사들이 서비스 출시를 시작하고 있다. 미국의 다이렉트인덱싱 시장규모는 2021년 기준 4620억달러(약 613조원)로 3년 평균 53% 정도로 급성장하고 있다.

국내에서는 핀테크 업체 두물머리가 지난해 다이렉트인덱싱 서비스 '테일러'를 출시하며 스타트를 끊었다. NH투자증권은 올해 1월 증권업계 최초로 'NH 다이렉트인덱싱' 베타 서비스를 제공했다.

KB증권도 KB자산운용과 협업해 개발한 'KB증권 다이렉트인덱싱'을 지난달 선보였다. 이밖에도 미래에셋자산운용, 한화자산운용 등이 서비스를 준비 중인 것으로 알려졌다.

다이렉트인덱싱은 투자자가 자신의 선호와 투자목적에 맞게 주식 포트폴리오를 설계해 관리하는 서비스를 말한다. 펀드나 ETF와 달리 개별종목을 보유해 손익통산과 손실이연제도 등을 활용한 세금감면 혜택으로 절세 관리가 가능하다는 게 특징이다.

주윤신 하나금융경영연구소 연구위원은 "향후 금융투자소득세 도입과 증권거래세 폐지, 소수점 거래 활성화 등을 고려하면 다이렉트인덱싱의 활용도가 더 높아질 것"이라고 전망했다.

금투세는 주식, 채권, 펀드, 파생상품 등의 매매차익을 통합과세하고 손익통산 및 손실 이월공제를 허용하는 제도로 2025년부터 시행된다. 금투세가 도입되면 다이렉트인덱싱을 활용한 절세관리가 가능해질 것이라는 분석이다.

허율 NH투자증권 연구원은 "다이렉트인덱싱은 ETF와 달리 개별종목 매매가 가능해 절세를 할 수 있다"며 "금투세가 적용되는 2025년부터는 다이렉트인덱싱에 대한 투자자들의 관심이 한층 더 커질 가능성이 높다"고 내다봤다.

이승아 NH투자증권 상품솔루션본부 대표도 "향후 해외주식 투자, 소수점 거래를 기반으로 한 포트폴리오 정교화와 금투세 도입에 대비한 절세전략 등을 포함해 서비스를 확장할 것"이라고 밝혔다.

◆…KB증권, NH투자증권 제공


공모펀드가 ETF를 대체한 것처럼, 다이렉트인덱싱이 ETF 시장을 일부 대체할 거란 전망도 나온다. 초개인화가 트렌드로 자리잡으면서 천편일률적인 ETF의 한계를 보완한 다이렉트인덱싱이 새로운 투자문화가 될 것으로 보인다.

주 연구위원은 "다만 일반 공모펀드 대비 저렴하나 ETF보다는 비싼 투자 비용이 다이렉트 인덱싱 시장 성장의 걸림돌로 작용할 수 있다"며 "시장 활성화를 위해서는 규모의 경제를 통한 비용 절감과 비용을 상쇄할 수 있을 만한 투자성과가 뒷받침될 필요가 있다"고 강조했다.

운용사가 상품을 만들고 증권사가 판매하던 역할 분담이 모호해지면서 업권간 '빅블러'가 심해지고 경쟁이 치열해질 가능성도 있다. 다이렉트인덱싱 플랫폼 내에서 상품 제조와 판매, 자문까지 제공되는 '원 플랫폼' 비즈니스가 성장할 것으로 전망된다.

실제로 NH투자증권은 2019년부터 시작한 지수 사업을 기반으로 'i-Select'를 선보인 한편, 로보어드바이저 솔루션을 개발해 다른 금융회사 연계 없이 서비스를 제공한다. 지수 제공, 플랫폼 운영, 매매체결 등 전 과정을 내재화해 지수사용료와 위탁수수료 비용을 절감한 것이다.

운용사, 증권사, 핀테크 중에서는 증권사가 첫 승기를 잡을 전망이다. 주 연구위원은 "직판 채널이 없는 운용사보다 고객 접점과 거래 플랫폼을 이미 보유하고 있는 증권사에 더 유리한 사업"이라며 "직접 지수 구성의 어려움과 절세관리 필요성을 고려할 때도 투자 리서치 자료와 자문서비스를 함께 제공할 수 있는 증권사가 시장을 주도하게 될 것"이라고 봤다."
- output  

https://user-images.githubusercontent.com/46513852/146552491-76df02ca-870d-4900-ab47-e956ede4cb84.mov





https://user-images.githubusercontent.com/46513852/150669352-d1c0aaf8-915b-498e-8441-32e99651fe1a.mov



# Train detail
- glowtts
  - trained with kss data 190000 step
  - train ipynb file : coqui_train_glowtts.ipynb
  - google drive link : https://drive.google.com/drive/folders/1quLOabjkAmmw6mFbcCsMqmGxMC4bbbCW
  
- multiband-melgan
  - trained with korea concat data (KSS, Zeroth and Pansori-TEDxKR) 150000 step
  - train ipynb file : coqui_train_mbmelgan.ipynb
  - google drive link : https://drive.google.com/drive/folders/1FOlcOjx47j_ALNw28rZkr62iOWqHY6tE 
    
- halfLife finetuned glowtts
  - trained with kss data 190000 step + halfLife 90000 step
  - train ipynb file : halfLife_finetune_glowtts.ipynb
  - google drive link : https://drive.google.com/drive/folders/1RubvJSDKZ_hNp3xj8mCocwtWG3KBmT4R?usp=sharing

- halfLife finetuned multiband-melgan
  - trained with korea concat data (KSS, Zeroth and Pansori-TEDxKR) 150000 step + halfLife 20000 step
  - train ipynb file : halfLife_finetune_mbmelgan.ipynb
  - google drive link : https://drive.google.com/drive/folders/15eAW8jTHSIOAisiPQa03VOMOH-pACguc?usp=sharing
  
    

# Dataset
- [KSS Dataset](https://www.kaggle.com/bryanpark/korean-single-speaker-speech-dataset)
- [Zeroth Korean](https://github.com/goodatlas/zeroth)
- [Pansori-TEDxKR](https://github.com/yc9701/pansori-tedxkr-corpus)
- [half_life_dataset](https://bbs.ruliweb.com/news/board/1003/read/1962882)


# Required Environment to run
```python

!pip install TTS
!pip install jamo
!pip install torchaudio==0.9.0
!pip install gdown
!conda install -c conda-forge kaggle -y
!pip install librosa

```

# Acknowledgement and References 
- [coqui tts](https://github.com/coqui-ai/TTS)
- [TensorFlowTTS](https://github.com/TensorSpeech/TensorFlowTTS)    
- [glow tts](https://arxiv.org/abs/2005.11129) 
- [Multi-band MelGAN](https://arxiv.org/abs/2005.05106)     
- [FastSpeech 2](https://arxiv.org/abs/2006.04558)
- [speech-japanese-korean-vietnamese](http://www.hieuthi.com/blog/2018/04/22/speech-japanese-korean-vietnamese.html)
- [openslr](http://openslr.org/index.html)     
- [half_life_dataset](https://bbs.ruliweb.com/news/board/1003/read/1962882)
- [KSS Dataset](https://www.kaggle.com/bryanpark/korean-single-speaker-speech-dataset)
- [Zeroth Korean](https://github.com/goodatlas/zeroth)
- [Pansori-TEDxKR](https://github.com/yc9701/pansori-tedxkr-corpus)
- [Fine-Tuning with a small dataset](https://github.com/TensorSpeech/TensorFlowTTS/issues/296)
- [Siri를 아이유 목소리로 바꾸기](https://blog.crux.cx/iu-siri-1/)     
- [인공지능 deep voice를 이용한 TTS(음성합성) 구현하기 _ 손석희 앵커](http://melonicedlatte.com/machinelearning/2018/07/02/215933.html)     
- [SCE-TTS: 내 목소리로 TTS 만들기](https://gist.github.com/yunho0130/a97db3296314cd7076d8436238fa113a)  
- [huggingface_fastspeech2_kss](https://huggingface.co/tensorspeech/tts-fastspeech2-kss-ko)
- [huggingface_TensorFlowTTS](https://huggingface.co/spaces/akhaliq/TensorFlowTTS)
- [jamo](https://github.com/JDongian/python-jamo)
- [korean.py](https://github.com/TensorSpeech/TensorFlowTTS/blob/master/tensorflow_tts/utils/korean.py)
- [freeconvert](https://www.freeconvert.com/wav-to-mov)











